<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>我的动画 Tier List</title>
    <link rel="stylesheet" href="my-tier-list.css" />
    <link rel="stylesheet" href="style-options.css" />
    <link rel="stylesheet" href="gradient-backgrounds.css" />
    <link rel="stylesheet" href="comments-styles.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    <script src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>
    <script src="https://unpkg.com/imagesloaded@5/imagesloaded.pkgd.min.js"></script>
  </head>
  <body>
    <!-- 毛玻璃效果层 -->
    <div id="glassmorphism-layer" class="glassmorphism-layer"></div>

    <!-- 自定义标题区域 -->
    <div class="custom-title-container">
      <h1 id="custom-title" class="custom-title">我的动画 Tier List</h1>
      <button id="edit-title-btn" class="edit-title-btn">
        <i class="fas fa-edit"></i>
      </button>
    </div>

    <!-- 统一设置菜单按钮 -->
    <div class="settings-menu-container">
      <button id="settings-menu-btn" class="settings-menu-btn">
        <i class="fas fa-cog"></i>
      </button>

      <!-- 背景设置按钮 -->
      <div class="background-settings-container">
        <button id="background-settings-btn" class="background-settings-btn" title="背景与主题设置">
          <i class="fas fa-palette"></i>
        </button>
      </div>

      <!-- 设置菜单面板 -->
      <div id="settings-menu-panel" class="settings-menu-panel">
        <div class="settings-section">
          <h3 class="settings-section-title">显示选项</h3>
          <div class="settings-option">
            <span class="settings-option-label">显示动画标题</span>
            <label class="toggle-switch">
              <input type="checkbox" id="title-display-toggle" checked />
              <span class="toggle-slider"></span>
            </label>
          </div>
        </div>

        <div class="settings-section">
          <h3 class="settings-section-title">导出与分享</h3>
          <div class="export-options">
            <button id="export-image-btn" class="export-btn">
              <i class="fas fa-image"></i>
              <span>导出为图片</span>
            </button>
            <button id="export-json-btn" class="export-btn">
              <i class="fas fa-file-export"></i>
              <span>导出数据</span>
            </button>
            <button id="import-json-btn" class="export-btn">
              <i class="fas fa-file-import"></i>
              <span>导入数据</span>
            </button>
            <button id="share-link-btn" class="export-btn">
              <i class="fas fa-share-alt"></i>
              <span>生成分享链接</span>
            </button>
            <input type="file" id="import-file-input" accept=".json" style="display: none" />
          </div>
        </div>

        <div class="settings-section">
          <h3 class="settings-section-title">Tier管理 <span class="settings-subtitle">(分数细化)</span></h3>
          <div class="tier-dropdown-list">
            <!-- 这里的内容将由JavaScript动态生成 -->
          </div>
        </div>
      </div>

      <!-- 背景设置面板 -->
      <div id="background-settings-panel" class="background-settings-panel">
        <div class="background-panel-header">
          <h3><i class="fas fa-palette"></i> 背景与主题设置</h3>
          <button class="background-panel-close" onclick="closeBackgroundPanel()">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="background-panel-content">
          <!-- 渐变主题选择 -->
          <div class="background-section">
            <h4 class="background-section-title"><i class="fas fa-fill-drip"></i> 渐变主题</h4>
            <div class="gradient-selection-full">
              <div class="gradient-mini-grid">
                <div
                  class="gradient-mini-preview gradient-deep-blue active"
                  data-gradient="deep-blue"
                  title="深蓝夜空"
                ></div>
                <div class="gradient-mini-preview gradient-aurora" data-gradient="aurora" title="极光紫"></div>
                <div class="gradient-mini-preview gradient-sakura" data-gradient="sakura" title="樱花粉"></div>
                <div class="gradient-mini-preview gradient-neon" data-gradient="neon" title="霓虹夜景"></div>
                <div class="gradient-mini-preview gradient-ocean" data-gradient="ocean" title="海洋深蓝"></div>
                <div class="gradient-mini-preview gradient-golden" data-gradient="golden" title="黄金时光"></div>
                <div class="gradient-mini-preview gradient-emerald" data-gradient="emerald" title="翡翠绿野"></div>
                <div class="gradient-mini-preview gradient-cosmic" data-gradient="cosmic" title="宇宙星辰"></div>
                <div class="gradient-mini-preview gradient-lavender" data-gradient="lavender" title="薰衣草"></div>
                <div class="gradient-mini-preview gradient-mystic" data-gradient="mystic" title="深紫神秘"></div>
                <div class="gradient-mini-preview gradient-steel" data-gradient="steel" title="钢铁机械"></div>
                <div class="gradient-mini-preview gradient-mint" data-gradient="mint" title="薄荷清新"></div>
                <div class="gradient-mini-preview gradient-volcano" data-gradient="volcano" title="火山岩浆"></div>
                <div class="gradient-mini-preview gradient-crystal" data-gradient="crystal" title="水晶冰雪"></div>
                <div class="gradient-mini-preview gradient-spectrum" data-gradient="spectrum" title="光谱彩虹"></div>
                <div class="gradient-mini-preview gradient-shadow" data-gradient="shadow" title="暗影深渊"></div>
                <div class="gradient-mini-preview gradient-rose-gold" data-gradient="rose-gold" title="玫瑰金"></div>
                <div class="gradient-mini-preview gradient-nordic" data-gradient="nordic" title="极光北欧"></div>
                <div class="gradient-mini-preview gradient-cyberpunk" data-gradient="cyberpunk" title="赛博朋克"></div>
                <div class="gradient-mini-preview gradient-sunset" data-gradient="sunset" title="夕阳西下"></div>
              </div>

              <!-- 快速主题预设 -->
              <div class="quick-theme-buttons">
                <button
                  class="quick-theme-btn"
                  onclick="gradientController.applyPreset('anime-night')"
                  title="极光紫 + 粒子 + 光晕"
                >
                  <i class="fas fa-star"></i>
                  动漫之夜
                </button>
                <button
                  class="quick-theme-btn"
                  onclick="gradientController.applyPreset('cyberpunk-city')"
                  title="霓虹夜景 + 粒子"
                >
                  <i class="fas fa-robot"></i>
                  赛博朋克
                </button>
                <button
                  class="quick-theme-btn"
                  onclick="gradientController.applyPreset('peaceful-nature')"
                  title="翡翠绿野 + 光晕"
                >
                  <i class="fas fa-leaf"></i>
                  自然宁静
                </button>
                <button
                  class="quick-theme-btn"
                  onclick="gradientController.applyPreset('minimal-focus')"
                  title="暗影深渊"
                >
                  <i class="fas fa-circle"></i>
                  极简专注
                </button>
                <button
                  class="quick-theme-btn random"
                  onclick="gradientController.randomTheme()"
                  title="随机主题和效果"
                >
                  <i class="fas fa-dice"></i>
                  随机主题
                </button>
              </div>
            </div>
          </div>

          <!-- 视觉特效 -->
          <div class="background-section">
            <h4 class="background-section-title"><i class="fas fa-magic"></i> 视觉特效</h4>
            <div class="settings-option">
              <span class="settings-option-label">粒子效果</span>
              <label class="toggle-switch">
                <input type="checkbox" id="particles-effect-toggle" />
                <span class="toggle-slider"></span>
              </label>
            </div>
            <div class="settings-option">
              <span class="settings-option-label">光晕效果</span>
              <label class="toggle-switch">
                <input type="checkbox" id="glow-effect-toggle" />
                <span class="toggle-slider"></span>
              </label>
            </div>
          </div>

          <!-- 自定义背景 -->
          <div class="background-section">
            <h4 class="background-section-title"><i class="fas fa-image"></i> 自定义背景</h4>
            <div class="settings-option">
              <span class="settings-option-label">使用自定义背景</span>
              <label class="toggle-switch">
                <input type="checkbox" id="custom-bg-toggle" />
                <span class="toggle-slider"></span>
              </label>
            </div>
            <div class="bg-upload-container" style="display: none">
              <div class="bg-preview">
                <div class="preview-placeholder">
                  <i class="fas fa-image"></i>
                  <p>背景预览</p>
                </div>
              </div>
              <div class="bg-controls">
                <label for="bg-file-input" class="bg-upload-btn">
                  <i class="fas fa-upload"></i>
                  <span>上传背景图片</span>
                </label>
                <input type="file" id="bg-file-input" accept="image/*" style="display: none" />
              </div>
              <div class="bg-effects">
                <div class="settings-option">
                  <span class="settings-option-label">毛玻璃效果</span>
                  <label class="toggle-switch">
                    <input type="checkbox" id="glassmorphism-toggle" checked />
                    <span class="toggle-slider"></span>
                  </label>
                </div>
                <div class="blur-strength">
                  <span class="settings-option-label">模糊强度</span>
                  <input type="range" id="blur-strength" min="0" max="20" value="10" class="blur-slider" />
                  <span class="blur-value">10px</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Tier容器开始，但为了压缩空间，我们只显示部分内容 -->
    <div class="tier-list-container">
      <!-- 添加所有Tier行，1-10分包括半分 -->
      <!-- 此处为了文件大小控制，省略详细的Tier HTML结构 -->
      <!-- 实际部署时需要包含完整的Tier结构 -->
    </div>

    <!-- JavaScript引用 -->
    <script src="my-tier-list.js"></script>
    <script src="comments.js"></script>
    <script src="gradient-controller.js"></script>
    
    <!-- 所有对话框和页脚 -->
    <!-- 此处也为了压缩空间省略了对话框的详细HTML -->
    
    <!-- 页面声明 -->
    <footer class="page-footer">
      <div class="footer-content">
        <a href="https://github.com/ikemenrourou" target="_blank">@ikemenrourou</a>
        <a href="https://github.com/ikemenrourou/BGM-AniTier" target="_blank">GitHub</a>
        <span>动画信息来自 <a href="https://bgm.tv/" target="_blank">番组计划</a></span>
        <span>搜索功能参考 <a href="https://github.com/itorr/anime-grid" target="_blank">anime-grid</a></span>
        <span class="usage-notice">仅供个人学习使用，禁止商业用途</span>
      </div>
    </footer>
  </body>
</html>